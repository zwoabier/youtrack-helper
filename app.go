package main\n\nimport (\n\t\"context\"\n\t\"log\"\n\n\t\"github.com/wailsapp/wails/v2/pkg/runtime\"\n)\n\ntype App struct {\n\tctx context.Context\n\tcm  *ConfigManager\n\tyt  *YouTrackAPI\n}\n\nfunc NewApp() *App {\n\treturn &App{}\n}\n\nfunc (a *App) startup(ctx context.Context, cm *ConfigManager, yt *YouTrackAPI) {\n\ta.ctx = ctx\n\ta.cm = cm\n\ta.yt = yt\n\n\t// Load config and sync tickets on startup\n\tif cm.IsConfigured() {\n\t\tgo func() {\n\t\t\tif err := yt.SyncTickets(ctx); err != nil {\n\t\t\t\tlog.Printf(\"Failed to sync tickets on startup: %v\", err)\n\t\t\t}\n\t\t}()\n\t}\n}\n\n// IsConfigured checks if the app has been set up\nfunc (a *App) IsConfigured() bool {\n\treturn a.cm.IsConfigured()\n}\n\n// GetConfig returns the current configuration\nfunc (a *App) GetConfig() Config {\n\treturn a.cm.GetConfig()\n}\n\n// SaveConfig persists configuration to disk\nfunc (a *App) SaveConfig(cfg Config) error {\n\treturn a.cm.SaveConfig(cfg)\n}\n\n// GetTickets returns cached tickets\nfunc (a *App) GetTickets() ([]Ticket, error) {\n\treturn a.yt.GetCachedTickets(), nil\n}\n\n// SyncTickets forces a network sync with YouTrack API\nfunc (a *App) SyncTickets() ([]Ticket, error) {\n\tif err := a.yt.SyncTickets(a.ctx); err != nil {\n\t\treturn nil, err\n\t}\n\treturn a.yt.GetCachedTickets(), nil\n}\n\n// CopyToClipboard copies text to system clipboard\nfunc (a *App) CopyToClipboard(text string) error {\n\truntime.ClipboardSetText(a.ctx, text)\n\treturn nil\n}\n\n// OpenInBrowser opens a URL in the default browser\nfunc (a *App) OpenInBrowser(url string) error {\n\treturn runtime.BrowserOpenURL(a.ctx, url)\n}\n\n// HideWindow hides the application window\nfunc (a *App) HideWindow() {\n\truntime.WindowHide(a.ctx)\n}\n